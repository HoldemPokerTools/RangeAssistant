(this["webpackJsonp@holdem-poker-tools/range-assistant-web"]=this["webpackJsonp@holdem-poker-tools/range-assistant-web"]||[]).push([[0],{168:function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","properties":{"_id":{"maxLength":48,"minLength":16,"type":"string"},"tags":{"items":{"type":"string","maxLength":32,"minLength":1},"minItems":0,"type":"array","uniqueItems":true},"actions":{"$id":"actions","items":{"properties":{"color":{"pattern":"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$","type":"string"},"name":{"maxLength":32,"minLength":1,"type":"string"}},"required":["name","color"],"type":"object"},"maxItems":25,"minItems":2,"type":"array","uniqueItems":true},"author":{"minLength":1,"type":"string"},"combos":{"$id":"combos","additionalProperties":false,"maxProperties":169,"minProperties":0,"patternProperties":{"^([AKQJT2-9]{2})([os?])?$":{"items":{"type":"number"},"minItems":1,"type":"array"}}},"title":{"minLength":1,"type":"string"}},"required":["_id","title","actions","combos","author","tags"],"title":"Range","type":"object"}')},222:function(e){e.exports=JSON.parse('{"actions":[{"name":"Fold","color":"#d3d3d3","inRange":false},{"name":"Open","color":"#7ec78e","inRange":true}],"combos":{"55":[3,1],"66":[1,1],"77":[0,1],"88":[0,1],"99":[0,1],"AA":[0,1],"AKs":[0,1],"AQs":[0,1],"ATs":[0,1],"A8s":[0,1],"A7s":[0,1],"AJs":[0,1],"A9s":[0,1],"A6s":[0,1],"A5s":[0,1],"A4s":[0,1],"A3s":[0,1],"A2s":[3,1],"AKo":[0,1],"AQo":[0,1],"AJo":[0,1],"ATo":[0,1],"KJo":[0,1],"KQo":[0,1],"KK":[0,1],"KQs":[0,1],"QQ":[0,1],"QJo":[1,1],"JJ":[0,1],"QJs":[0,1],"KJs":[0,1],"TT":[0,1],"KTs":[0,1],"K9s":[0,1],"K8s":[0,1],"QTs":[0,1],"Q9s":[0,1],"JTs":[0,1],"J9s":[1,1],"T9s":[4,1],"98s":[4,1],"87s":[4,1],"76s":[4,1],"65s":[4,1]},"tags":["6max","EP","RFI","100BB","GTO"]}')},223:function(e){e.exports=JSON.parse('{"actions":[{"name":"Fold","color":"#d3d3d3","inRange":false},{"name":"Call","color":"#7ec78e","inRange":true},{"name":"3 Bet","color":"#e89679","inRange":true}],"combos":{"22":[0,1,0],"33":[0,1,0],"44":[0,1,0],"55":[0,1,0],"66":[0,1,0],"77":[0,1,0],"88":[0,1,0],"99":[0,3,1],"AKs":[0,0,1],"AQs":[0,1,3],"ATs":[0,1,1],"A8s":[0,3,1],"A7s":[0,3,1],"AJs":[0,1,3],"A9s":[0,3,1],"A6s":[0,1,0],"A5s":[0,1,1],"A4s":[0,1,1],"A3s":[0,3,1],"A2s":[0,1,0],"AKo":[0,1,3],"AQo":[0,0,1],"AJo":[0,1,0],"ATo":[0,1,0],"KJo":[0,1,0],"KQo":[0,1,0],"KK":[0,0,1],"KQs":[0,0,1],"QQ":[0,0,1],"QJo":[0,1,0],"JJ":[0,1,1],"QJs":[0,1,3],"KJs":[0,1,3],"TT":[0,2,1],"KTs":[0,1,1],"K9s":[0,1,0],"K8s":[0,1,0],"QTs":[0,1,1],"Q9s":[0,3,1],"JTs":[0,2,1],"J9s":[0,3,1],"T9s":[0,3,1],"98s":[0,3,1],"87s":[0,3,1],"76s":[0,4,1],"65s":[0,4,1],"AA":[0,0,1],"K7s":[0,1,0],"K4s":[0,1,0],"K5s":[0,3,1],"K6s":[0,3,1],"Q8s":[0,1,0],"Q7s":[0,1,0],"J7s":[0,1,0],"J8s":[0,3,1],"T8s":[0,3,1],"T7s":[0,1,0],"T6s":[0,1,0],"97s":[0,4,1],"96s":[0,1,0],"95s":[0,1,0],"86s":[0,4,1],"85s":[0,1,0],"75s":[0,4,1],"74s":[0,1,0],"64s":[0,4,1],"63s":[0,1,0],"54s":[0,4,1],"53s":[0,1,0],"52s":[0,1,0],"43s":[0,1,0],"42s":[0,1,0],"32s":[0,1,0],"JTo":[1,1,0],"QTo":[1,1,0],"KTo":[1,1,0]},"tags":["6max","100BB","BB","vs EP","GTO"]}')},244:function(e,t,n){},313:function(e,t){},371:function(e,t,n){},372:function(e,t,n){},440:function(e,t,n){},447:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(0),r=n.n(a),s=n(34),o=n.n(s),i=(n(244),n(82)),l=n(36),u=n(456),j=n(461),b=n(463),d=n(464),O=n(88),h=n(478),f=n(479),g=n(480),m=n(204),x=n(47),v=n(61),p=n(10),y=n(27),w=n(454),A=n(451),T=n(452),R=n(459),k=n(121),S=n(465),C=n(110),I=n(462),J=n(458),B=n(450),P=n(466),K=function(){return Object(c.jsx)(B.a,{indicator:Object(c.jsx)(P.a,{style:{fontSize:24},spin:!0})})},N=n(467),F=n(468),M=n(469),Q=n(470),G=n(471),E=n(135),L=n(167),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e=Math.ceil(Math.max(1,e)),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},_=n(206),U=n.n(_),q=n(207),z=n.n(q),D=n(168),W=new z.a({strict:!1});W.addSchema(D);W.getSchema("actions"),W.getSchema("combos");var $=W.compile(D),Y={gtoplus:{label:"GTO+",getWeightedRangeString:function(e,t){return"[".concat(t,"]").concat(e,"[/").concat(t,"]")}}},V=function(e,t){return function(n){var c;if(e[n]){c="linear-gradient(to left";var a=e[n].reduce((function(e,t){return e+t}),0),r=e[n].map((function(e){return e/a*100})),s=0;t.forEach((function(e,t){var n=r[t];s+=n,c+=", ".concat(e.color," ").concat(s-n,"%, ").concat(e.color," ").concat(s,"%")})),c+=")"}else c=t[0].color;return{background:c}}},X=function(e,t){var n=Object.keys(e).reduce((function(t,n){return Object(p.a)(Object(p.a)({},t),{},Object(x.a)({},n,function(e){var t=e.reduce((function(e,t,n){return[].concat(Object(v.a)(e),[t+(e[n-1]||0)])}),[]),n=H(Math.min.apply(Math,Object(v.a)(e)),t[t.length-1]);return t.findIndex((function(e,c){return n<=e&&n>(t[c-1]?t[c-1]:0)}))}(e[n])))}),{});return function(e){return{backgroundColor:(t.find((function(t,c){return!!n[e]&&c===n[e]}))||t[0]).color}}},Z=["EP","MP","UTG","UTG+1","UTG+2","LJ","HJ","CO","BTN","SB","BB","vs EP","vs MP","vs UTG","vs UTG+1","vs UTG+2","vs LJ","vs HJ","vs CO","vs BTN","vs SB","vs BB","micro","low stakes","medium stakes","high stakes","100BB","200BB","75BB","50BB","30BB","RFI","vs limp","vs open","vs 3bet","vs 4bet","vs 5bet","vs small bet","vs medium bet","vs big bet","6max","full ring","heads up","GTO","exploitative","vs nit","vs TAG","vs LAG","vs fish","vs whale"],ee=function(e){return Object.keys(e).reduce((function(t,n){return void 0===e[n]||Array.isArray(e[n])&&e[n].every((function(e){return 0===e}))?t:Object(p.a)(Object(p.a)({},t),{},Object(x.a)({},n,e[n]))}),{})},te=[{value:"#d3d3d3",name:"Grey"},{value:"#7ec78e",name:"Green"},{value:"#d9e90e",name:"Yellow"},{value:"#e89679",name:"Peach"},{value:"#6d9ec2",name:"Blue"},{value:"#bb63fd",name:"Purple"},{value:"#fd6363",name:"Red"},{value:"#ea9900",name:"Orange"},{value:"#46cec0",name:"Turquoise"},{value:"#ffffff",name:"White"},{value:"#e09cc5",name:"Pink"},{value:"#8a0000",name:"Maroon"},{value:"#06ce0c",name:"Bright Green"},{value:"#1b9af7",name:"Bright Blue"}],ne=n(84),ce=n.n(ne),ae=n(151),re=new(n(208).a)("ranges"),se=function(e){return re.post(e).then((function(e){return re.get(e.id)}))},oe=function(){var e=Object(ae.a)(ce.a.mark((function e(t){return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re.get(t).then(re.remove));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=u.a.Title,le=u.a.Text,ue=w.a.Option;var je=function(){var e=Object(a.useState)(void 0),t=Object(y.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(!0),o=Object(y.a)(s,2),i=o[0],u=o[1],j=Object(a.useState)(void 0),b=Object(y.a)(j,2),h=b[0],f=b[1],g=Object(a.useState)(void 0),m=Object(y.a)(g,2),B=m[0],P=m[1],H=Object(a.useState)(!1),_=Object(y.a)(H,2),U=_[0],q=_[1],z=Object(a.useState)(void 0),D=Object(y.a)(z,2),W=D[0],X=D[1],ne=Object(a.useState)(void 0),ce=Object(y.a)(ne,2),ae=ce[0],se=ce[1],oe=Object(a.useState)("gtoplus"),je=Object(y.a)(oe,2),be=je[0],de=je[1],Oe=Object(l.h)().rangeId;Object(a.useEffect)((function(){var e;u(!0),(e=Oe,re.get(e)).then((function(e){return r(Object.fromEntries(Object.entries(e).filter((function(e){return!Object(y.a)(e,1)[0].startsWith("_")}))))})).catch((function(e){console.error(e),f("Unable to load range!")})).finally((function(){return u(!1)}))}),[u,f,Oe]),Object(a.useEffect)((function(){var e=$(Object(p.a)({_id:Oe},n));n&&!U&&e?function(e,t){return re.get(e).then((function(e){return Object.assign(e,t)})).then(re.put)}(Oe,n).catch(console.error):console.debug(e.errors)}),[n,U,Oe]),Object(a.useEffect)((function(){if(n){var e=n.combos,t=n.actions,c=Object.entries(e).filter((function(e){var n=Object(y.a)(e,2);n[0];return n[1].some((function(e,n){return t[n].inRange&&e>0}))})).map((function(e){var n=Object(y.a)(e,2),c=n[0],a=n[1],r=a.reduce((function(e,t){return e+t}),0),s=a.reduce((function(e,n,c){return t[c].inRange?e+n:e}),0);return[c,Math.round(s/r*100)]}));c.length?se(function(e,t){var n=Y[t].getWeightedRangeString,c=e.reduce((function(e,t){var n=Object(y.a)(t,2),c=n[0],a=n[1];return Object(p.a)(Object(p.a)({},e),{},Object(x.a)({},a,(e[a]||[]).concat([c])))}),{});return Object.entries(c).map((function(e){var t=Object(y.a)(e,2),c=t[0],a=t[1];return 100===parseInt(c)?Object(L.reverse)(a):n(Object(L.reverse)(a),c)})).join(",")}(c,be)):se(void 0)}}),[n,be]);var he=function(e,t){r((function(n){var c=Object(v.a)(n.actions);return c[e]=Object(p.a)(Object(p.a)({},n.actions[e]),t),Object(p.a)(Object(p.a)({},n),{},{actions:c})}))},fe=function(e){return function(t){return r((function(n){return Object(p.a)(Object(p.a)({},n),{},Object(x.a)({},e,t))}))}};return h?Object(c.jsx)(l.a,{to:"/notfound",state:{}}):i?Object(c.jsxs)("div",{style:{textAlign:"center"},children:[Object(c.jsx)(K,{})," Loading..."]}):Object(c.jsx)("div",{children:Object(c.jsxs)(d.b,{style:{width:"100%"},direction:"vertical",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(ie,{level:3,editable:{onChange:fe("title")},children:n.title}),Object(c.jsx)(le,{editable:{onChange:fe("author")},children:n.author})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(ie,{level:4,children:"Tags"}),Object(c.jsx)(le,{children:"Use tags for hero position, villain position, bet size etc. to help when searching for a specific range. You can use the default tags or add your own new tags."}),Object(c.jsx)(w.a,{value:n.tags,placeholder:"Select tags...",mode:"tags",style:{width:"100%"},onChange:fe("tags"),tokenSeparators:[","],children:Object(v.a)(new Set(Z.concat(n.tags))).map((function(e){return Object(c.jsx)(ue,{value:e,children:e},e)}))})]}),Object(c.jsxs)(A.a,{gutter:[15,15],children:[Object(c.jsx)(T.a,{xs:{span:24,offset:0},sm:{span:16,offset:4},md:{span:12,offset:0},lg:12,xl:12,children:Object(c.jsxs)(d.b,{style:{width:"100%"},direction:"vertical",children:[Object(c.jsx)(ie,{level:4,children:"Combos"}),Object(c.jsx)(E.HandMatrix,{colorize:!1,onPointerDown:function(e){P(e),q(!0)},onPointerUp:function(){return q(!1)},onPointerEnter:function(e){B&&U&&r((function(t){return Object(p.a)(Object(p.a)({},t),{},{combos:ee(Object(p.a)(Object(p.a)({},t.combos),{},Object(x.a)({},e,t.combos[B])))})}))},comboStyle:function(e){return Object(p.a)(Object(p.a)({},V(n.combos,n.actions)(e)),{},{boxShadow:e===B?"inset 0px 0px 0px 5px #fff":"none"})}}),Object(c.jsxs)(le,{children:[Object(c.jsx)("strong",{children:"Pro Tip:"}),' You can "drag" a combo to copy it\'s action weights to another combo.']})]})}),Object(c.jsx)(T.a,{xs:{span:24,offset:0},sm:{span:16,offset:4},md:{span:12,offset:0},lg:12,xl:12,children:Object(c.jsxs)(d.b,{style:{width:"100%"},direction:"vertical",children:[Object(c.jsx)(ie,{level:4,children:"Actions"}),n.actions.map((function(e,t){return Object(c.jsxs)("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:[Object(c.jsx)(R.a,{disabled:0===t,size:"large",style:{flexGrow:1},value:e.name,onChange:function(e){return he(t,{name:e.target.value})}}),Object(c.jsx)(w.a,{size:"large",value:e.color,onSelect:function(e){return he(t,{color:e})},children:te.map((function(e){return Object(c.jsx)(ue,{value:e.value,children:Object(c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(c.jsx)("span",{style:{border:"1px solid lightgrey",marginRight:10,minHeight:20,minWidth:20,backgroundColor:e.value}})," ",e.name]})},e.value)}))}),Object(c.jsx)(O.a,{type:"danger",size:"large",disabled:1===n.actions.length||0===t,onClick:function(){return function(e){r((function(t){return Object(p.a)(Object(p.a)({},t),{},{actions:[].concat(Object(v.a)(t.actions.slice(0,e)),Object(v.a)(t.actions.slice(e+1))),combos:Object.entries(t.combos).reduce((function(t,n){var c=Object(y.a)(n,2),a=c[0],r=c[1].filter((function(t,n){return n!==e}));return r.every((function(e){return 0===e}))?t:Object(p.a)(Object(p.a)({},t),{},Object(x.a)({},a,r))}),{})})})),X(void 0)}(t)},children:Object(c.jsx)(N.a,{})}),Object(c.jsx)("div",{style:{marginLeft:5},children:Object(c.jsx)(k.a,{placement:"topRight",title:"Include in range string",children:Object(c.jsx)(S.a,{disabled:0===t,onChange:function(e){return he(t,{inRange:e})},checkedChildren:Object(c.jsx)(F.a,{}),checked:e.inRange})})})]},t)})),Object(c.jsx)(O.a,{onClick:function(){var e=te.filter((function(e){return-1===n.actions.map((function(e){return e.color})).indexOf(e.value)}));r((function(t){return Object(p.a)(Object(p.a)({},t),{},{actions:[].concat(Object(v.a)(t.actions),[{name:"New Action",color:e[0].value,inRange:!0}]),combos:Object.entries(t.combos).reduce((function(e,t){var n=Object(y.a)(t,2),c=n[0],a=n[1];return Object(p.a)(Object(p.a)({},e),{},Object(x.a)({},c,a.concat([0])))}),{})})})),X(void 0)},type:"dashed",disabled:n.actions.length===te.length,children:"Add Action"}),B?Object(c.jsxs)(d.b,{style:{width:"100%"},direction:"vertical",children:[Object(c.jsxs)(ie,{level:4,children:["Combo Action Weights: ",B]}),n.actions.map((function(e,t){return Object(c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(c.jsx)("span",{style:{border:"1px solid lightgrey",marginRight:10,height:20,width:20,backgroundColor:e.color}}),Object(c.jsx)(I.a,{value:n.combos[B]?n.combos[B][t]:0,min:0,onChange:function(e){return function(e,t,c){var a=n.combos,s=n.actions,o=Object(v.a)(a[e]||s.map((function(e){return 0}))),i=Object(p.a)(Object(p.a)({},a),{},Object(x.a)({},e,o.map((function(e,n){return n===t?c:e}))));r((function(e){return Object(p.a)(Object(p.a)({},e),{},{combos:ee(i)})}))}(B,t,e)}})]},t)})),(n.combos[B]||W)&&Object(c.jsxs)(d.b,{children:[n.combos[B]&&Object(c.jsx)(O.a,{onClick:function(){return X(n.combos[B])},icon:Object(c.jsx)(M.a,{}),children:"Copy"}),W&&Object(c.jsx)(O.a,{onClick:function(){r((function(e){return Object(p.a)(Object(p.a)({},e),{},{combos:ee(Object(p.a)(Object(p.a)({},e.combos),{},Object(x.a)({},B,W)))})}))},icon:Object(c.jsx)(Q.a,{}),children:"Paste"})]})]}):Object(c.jsx)(C.a,{description:"Select a combo to configure"}),Object(c.jsxs)("div",{children:[Object(c.jsx)(ie,{level:4,children:"Range String"}),ae?Object(c.jsxs)(d.b,{direction:"vertical",children:[Object(c.jsxs)(d.b,{children:[Object(c.jsx)(le,{strong:!0,children:"Format"}),Object(c.jsx)(J.a.Group,{onChange:de,options:Object.keys(Y).map((function(e){return{value:e,label:Y[e].label}})),value:be})]}),Object(c.jsx)(le,{copyable:!0,children:ae})]}):Object(c.jsxs)(le,{children:[Object(c.jsx)(G.a,{})," To generate a range string, ensure at least one combo has an action weight greater than 0 for at least one action which is marked as ",Object(c.jsx)("strong",{children:"included in range"})]})]})]})})]})]})})},be=n(460),de=function(e){var t,n,a=e.location;return Object(c.jsx)(be.a,{status:"404",title:(null===a||void 0===a||null===(t=a.state)||void 0===t?void 0:t.title)||"Page Not Found",subTitle:(null===a||void 0===a||null===(n=a.state)||void 0===n?void 0:n.message)||"Sorry but the page you're looking for doesn't exist!",extra:[Object(c.jsx)(i.b,{to:"/",children:Object(c.jsx)(O.a,{children:"Return Home"})})]})},Oe=n(236),he=n(235),fe=n(455),ge=n(457),me=n(453),xe=n(472),ve=n(473),pe=n(474),ye=n(475),we=n(476),Ae=n(477),Te=n(229);n(371);var Re=function(e){var t=e.children,n=e.onDropFiles,r=Object(a.useCallback)((function(e){n&&n(e)}),[n]),s=Object(Te.a)({onDrop:r}),o=s.getRootProps,i=s.isDragActive;return Object(c.jsx)("div",Object(p.a)(Object(p.a)({className:"drop-overlay ".concat(i?"dropping":"")},o()),{},{children:t}))},ke={rfi:n(222),vsbet:n(223)},Se=(n(372),u.a.Title),Ce=u.a.Paragraph,Ie=u.a.Text,Je=w.a.Option,Be=function(e){var t=e.range,n=e.frequencyMode,a=Object(l.g)(),r=t.title,s=t.author,o=t.actions,i=t.combos,u=t.tags,j=t._id,b=n?V(i,o):X(i,o);return Object(c.jsxs)("div",{children:[Object(c.jsxs)(Ie,{strong:!0,children:[r," "]}),Object(c.jsx)(E.HandMatrix,{showText:!0,comboStyle:function(e){return Object(p.a)(Object(p.a)({},b(e)),{},{fontSize:"0.6rem"})}}),Object(c.jsxs)(Ie,{type:"secondary",children:["by ",s]}),Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)(k.a,{title:"Edit Range",placement:"bottomLeft",children:Object(c.jsx)(O.a,{onClick:function(){return a.push("range/".concat(j))},icon:Object(c.jsx)(pe.a,{}),size:"small"})}),Object(c.jsx)(k.a,{title:"Duplicate Range",placement:"bottom",children:Object(c.jsx)(O.a,{onClick:function(){return se({title:r,author:s,actions:o,combos:i,tags:u})},icon:Object(c.jsx)(M.a,{}),size:"small"})}),Object(c.jsx)(k.a,{title:"Download Range",placement:"bottom",children:Object(c.jsx)(O.a,{onClick:function(){return delete(e=t)._rev,void U()(JSON.stringify(e),"".concat(e.title.toLowerCase().replace(/\s+/g,"-"),".range"),"application/json");var e},icon:Object(c.jsx)(ye.a,{}),size:"small"})}),Object(c.jsx)("div",{className:"spacer"}),Object(c.jsx)(k.a,{title:"Delete Range",placement:"bottomRight",children:Object(c.jsx)(O.a,{type:"primary",onClick:function(){return oe(j)},icon:Object(c.jsx)(we.a,{}),size:"small"})})]}),Object(c.jsx)("div",{className:"tag-container",children:u.map((function(e){return Object(c.jsx)("div",{className:"tag",children:e},e)}))})]})},Pe=function(e){var t=e.visible,n=e.onSubmit,a=e.onImport,r=e.onCancel,s=fe.a.useForm(),o=Object(y.a)(s,1)[0];return Object(c.jsxs)(ge.a,{title:"Add Range",visible:t,okText:"Create",onOk:function(){o.validateFields().then((function(e){var t=e.template,c=Object(Oe.a)(e,["template"]);switch(t){case"rfi":Object.assign(c,ke.rfi);break;case"vsbet":Object.assign(c,ke.vsbet);break;default:console.debug("Creating range from scratch")}return n(c)})).then((function(){return o.resetFields()})).catch(console.debug)},onCancel:function(){o.resetFields(),r()},children:[Object(c.jsx)(Re,{onDropFiles:a,children:Object(c.jsxs)("div",{children:[Object(c.jsx)(Ae.a,{style:{fontSize:52}}),Object(c.jsx)("h3",{children:"Drop your range file(s) here"})]})}),Object(c.jsx)(me.a,{}),Object(c.jsxs)(fe.a,{initialValues:{template:"rfi"},layout:"vertical",form:o,children:[Object(c.jsx)(Se,{level:5,style:{textAlign:"center"},children:"Or create a range manually"}),Object(c.jsx)(fe.a.Item,{label:"Range Name",required:!0,name:"title",rules:[{required:!0,message:"Please input a valid name for this range",min:1,max:80}],children:Object(c.jsx)(R.a,{placeholder:"6 Max Cash UTG RFI"})}),Object(c.jsx)(fe.a.Item,{label:"Range Author",required:!0,name:"author",rules:[{required:!0,message:"Please input an author for this range",min:1,max:48}],children:Object(c.jsx)(R.a,{placeholder:"Your Name"})}),Object(c.jsx)(fe.a.Item,{label:"Starting Template",required:!0,name:"template",children:Object(c.jsxs)(w.a,{placeholder:"Choose a template",children:[Object(c.jsx)(Je,{value:"rfi",children:"RFI"}),Object(c.jsx)(Je,{value:"vsbet",children:"vs bet"}),Object(c.jsx)(Je,{value:"blank",children:"From scratch"})]})})]})]})},Ke=function(){var e=Object(l.g)(),t=Object(a.useState)([]),n=Object(y.a)(t,2),r=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(y.a)(o,2),u=i[0],j=i[1],b=Object(a.useState)(10),h=Object(y.a)(b,2),f=h[0],g=h[1],m=Object(a.useState)(!1),p=Object(y.a)(m,2),R=p[0],C=p[1],J=Object(a.useState)(void 0),B=Object(y.a)(J,2),P=B[0],N=B[1],F=Object(a.useState)(!1),M=Object(y.a)(F,2),Q=M[0],G=M[1],E=Object(a.useState)([]),L=Object(y.a)(E,2),_=L[0],U=L[1],q=Object(a.useState)(0),z=Object(y.a)(q,2),D=z[0],W=z[1];if(Object(a.useEffect)((function(){Y();var e=setInterval((function(){Y()}),1e3*f);return function(){return clearInterval(e)}}),[f,W]),Object(a.useEffect)((function(){C(!0),re.allDocs({include_docs:!0}).then((function(e){return e.rows.map((function(e){return e.doc}))})).then(s).catch((function(e){console.error(e),N("Unable to load ranges!")})).finally((function(){return C(!1)}))}),[C,N,s]),Object(a.useEffect)((function(){var e=function(e){var t=re.changes({live:!0,since:"now",include_docs:!0});return t.on("change",e),t}((function(e){s((function(t){if(e.deleted)return t.filter((function(t){return t._id!==e.id}));var n=t.findIndex((function(t){return t._id===e.id}));return Object.assign([],t,Object(x.a)({},-1!==n?n:t.length,e.doc))}))}));return function(){return e.cancel()}}),[s]),P)return Object(c.jsx)(l.a,{to:"/notfound",state:{}});var Y=function(){W(H())},V=function(e){return function(e){return new Promise((function(t,n){var c=new FileReader;c.onload=function(e){t(e.target.result)},c.onerror=function(e){return n(e)},c.readAsText(e)}))}(e).then(JSON.parse).then((function(e){if(!$(e))throw new Error("Invalid range");return e}))},X=function(e){var t=e.title,n=e.author,c=e.tags,a=void 0===c?[]:c,r=e.combos,s=void 0===r?{}:r,o=e.actions,i=void 0===o?[{name:"Fold",color:te[0].value,inRange:!1},{name:"Call",color:te[1].value,inRange:!0},{name:"Raise",color:te[2].value,inRange:!0}]:o;return se({title:t,author:n,tags:a,combos:s,actions:i}).catch((function(e){console.error(e),he.b.error("Could not create range!")}))},Z=r.filter((function(e){return 0===_.length||_.every((function(t){return e.tags.includes(t)}))}));return Object(c.jsxs)("div",{children:[R&&Object(c.jsxs)("div",{style:{textAlign:"center"},children:[Object(c.jsx)(K,{})," Loading..."]}),!R&&Object(c.jsxs)(d.b,{direction:"vertical",style:{width:"100%"},children:[Object(c.jsx)("div",{className:"view-ranges-controls",children:Object(c.jsxs)(d.b,{children:[Object(c.jsx)(w.a,{value:_,placeholder:"Filter by tags...",mode:"multiple",allowClear:!0,onChange:U,children:Object(v.a)(new Set((r||[]).map((function(e){return e.tags})).flat())).sort().map((function(e){return Object(c.jsx)(Je,{value:e,children:e},e)}))}),Object(c.jsx)(O.a,{icon:Object(c.jsx)(xe.a,{}),onClick:function(){return G(!0)},children:"Add Range"})]})}),Object(c.jsxs)(d.b,{children:[Object(c.jsxs)("span",{children:["Frequency Mode: ",Object(c.jsx)(S.a,{checked:u,onChange:j})]}),Object(c.jsxs)("span",{children:["RNG refresh rate: ",Object(c.jsx)(I.a,{min:1,formatter:function(e){return"".concat(e," secs")},precision:0,onChange:g,value:f})]}),Object(c.jsxs)("span",{children:["RNG: ",D]}),Object(c.jsx)(k.a,{title:"Refresh RNG Now",children:Object(c.jsx)(ve.a,{onClick:Y})})]}),0===Z.length?Object(c.jsxs)("div",{style:{textAlign:"center"},children:[Object(c.jsx)(Se,{level:3,children:"No Ranges Found"}),0===r.length&&Object(c.jsx)(Ce,{children:"You don't have any ranges yet!"})]}):Object(c.jsx)(A.a,{gutter:[10,10],children:Z.map((function(e){return Object(c.jsx)(T.a,{xs:24,sm:12,md:8,lg:8,xl:6,xxl:4,children:Object(c.jsx)(Be,{range:e,frequencyMode:u})},e._id)}))})]}),Object(c.jsx)(Pe,{onImport:function(e){return Promise.all(e.map(V)).then((function(e){return e.forEach(X)})).then((function(){return he.b.success("Import successful!")})).catch((function(e){console.log(e),he.b.error("One or more of your range files are invalid!")}))},visible:Q,onSubmit:function(t){return X(t).then((function(t){G(!1),e.push("/range/".concat(t._id))}))},onCancel:function(){return G(!1)}})]})},Ne=(n(440),u.a.Text),Fe=new m.UAParser,Me=j.a.Header,Qe=j.a.Footer,Ge=j.a.Content,Ee=function(e){switch(e){case"Mac":return Object(c.jsx)(h.a,{});case"Windows":return Object(c.jsx)(f.a,{});default:return Object(c.jsx)(c.Fragment,{})}},Le=function(e){switch(e){case"Mac":return"dmg";case"Windows":return"exe";default:throw new Error("Unsupported OS: ".concat(e))}},He=["Mac","Windows"].find((function(e){return-1!==(Fe.getOS().name||"").indexOf(e)}));var _e=function(){return Object(c.jsxs)(Me,{className:"site-layout-header",children:[Object(c.jsx)("img",{alt:"logo",height:"60",src:"./logo512.png"}),Object(c.jsxs)(i.b,{to:"/",className:"logo-text",children:[Object(c.jsx)("span",{style:{color:"#000"},children:"Hold'em Poker Tools"}),Object(c.jsx)("br",{}),Object(c.jsx)("span",{style:{color:"#bd2829"},children:"Range Assistant"})]}),Object(c.jsx)("div",{className:"spacer"}),Object(c.jsx)(i.b,{to:"/",className:"ant-btn-link",children:"My Ranges"})]})},Ue=function(){return Object(c.jsxs)(Qe,{style:{textAlign:"center"},children:[Object(c.jsx)(Ne,{children:"Hold'em Poker Tools: Range Assistant \xa92020"}),Object(c.jsx)("br",{}),Object(c.jsx)(Ne,{children:"Hold'em Poker Tools projects are free for everyone to use. Show your support on Buy Me a Coffee!"}),Object(c.jsx)("br",{}),Object(c.jsxs)(d.b,{children:[Object(c.jsx)("a",{href:"https://www.buymeacoffee.com/holdemtools",target:"_blank",rel:"noreferrer",children:Object(c.jsx)("img",{src:"https://cdn.buymeacoffee.com/buttons/default-red.png",alt:"Buy Me A Coffee",style:{height:41,width:174,borderRadius:5}})}),He&&Object(c.jsxs)(O.a,{href:"https://github.com/HoldemPokerTools/RangeAssistant/releases/latest/download/Range-Assistant.".concat(Le(He)),target:"_blank",children:["Download Range Assistant for ",Ee(He)," ",He]}),Object(c.jsxs)("a",{href:"https://github.com/HoldemTools/RangeAssistant",target:"_blank",rel:"noreferrer",children:[Object(c.jsx)(g.a,{})," View on GitHub"]})]})]})},qe=function(){return Object(c.jsx)(j.a,{style:{minHeight:"100vh"},children:Object(c.jsxs)(i.a,{children:[Object(c.jsx)(_e,{}),Object(c.jsx)(Ge,{className:"content",children:Object(c.jsxs)("div",{className:"site-layout-content",children:[!localStorage.getItem("showIntro")&&Object(c.jsx)(b.a,{type:"info",closable:!0,afterClose:function(){localStorage.setItem("showIntro",1)},showIcon:!0,message:"First time here?",description:Object(c.jsx)(Ne,{children:"Use this web app to construct a new range then save it to use with the Hold'em Poker Tools Range Assistant desktop app. If you're on desktop, you can download the Range Assistant desktop app using the button above."})}),Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/",children:Object(c.jsx)(Ke,{})}),Object(c.jsx)(l.b,{exact:!0,path:"/range/:rangeId",children:Object(c.jsx)(je,{})}),Object(c.jsx)(l.b,{path:"*",children:Object(c.jsx)(de,{})})]}),Object(c.jsx)("div",{className:"gutter"})]})}),Object(c.jsx)(Ue,{})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(qe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[447,1,2]]]);
//# sourceMappingURL=main.be3be11e.chunk.js.map